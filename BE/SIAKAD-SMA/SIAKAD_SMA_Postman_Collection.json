{
  "info": {
    "name": "SIAKAD SMA API",
    "_postman_id": "siakad-sma-2026",
    "description": "API Collection untuk SIAKAD SMA dengan role Admin, Guru, BK, dan Siswa",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "auth": {
    "type": "bearer",
    "bearer": [
      {
        "key": "token",
        "value": "{{token}}",
        "type": "string"
      }
    ]
  },
  "variable": [
    {
      "key": "base_url",
      "value": "http://127.0.0.1:8000/api",
      "type": "string"
    },
    {
      "key": "token",
      "value": "",
      "type": "string"
    }
  ],
  "item": [
    {
      "name": "Authentication",
      "item": [
        {
          "name": "Login Admin",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "var jsonData = pm.response.json();",
                  "pm.environment.set(\"token\", jsonData.token);"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"username\": \"admin\",\n  \"password\": \"admin123\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/login",
              "host": ["{{base_url}}"],
              "path": ["login"]
            }
          }
        },
        {
          "name": "Login Guru",
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"username\": \"guru1\",\n  \"password\": \"guru123\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/login",
              "host": ["{{base_url}}"],
              "path": ["login"]
            }
          }
        },
        {
          "name": "Login BK",
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"username\": \"bk\",\n  \"password\": \"bk123\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/login",
              "host": ["{{base_url}}"],
              "path": ["login"]
            }
          }
        },
        {
          "name": "Login Siswa",
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"username\": \"siswa1\",\n  \"password\": \"siswa123\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/login",
              "host": ["{{base_url}}"],
              "path": ["login"]
            }
          }
        },
        {
          "name": "Logout",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{token}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [],
            "url": {
              "raw": "{{base_url}}/logout",
              "host": ["{{base_url}}"],
              "path": ["logout"]
            }
          }
        }
      ]
    },
    {
      "name": "Admin - Jadwal Pelajaran",
      "item": [
        {
          "name": "Get All Jadwal",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/admin/jadwal-pelajaran",
              "host": ["{{base_url}}"],
              "path": ["admin", "jadwal-pelajaran"]
            }
          }
        },
        {
          "name": "Get Jadwal by Kelas",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/admin/jadwal-pelajaran?kelas_id=1",
              "host": ["{{base_url}}"],
              "path": ["admin", "jadwal-pelajaran"],
              "query": [
                {
                  "key": "kelas_id",
                  "value": "1"
                }
              ]
            }
          }
        },
        {
          "name": "Create Jadwal",
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"hari\": \"Rabu\",\n  \"jam_mulai\": \"07:00\",\n  \"jam_selesai\": \"08:30\",\n  \"kelas_id\": 1,\n  \"mapel_id\": 1,\n  \"guru_id\": 1,\n  \"ruangan\": \"R.301\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/admin/jadwal-pelajaran",
              "host": ["{{base_url}}"],
              "path": ["admin", "jadwal-pelajaran"]
            }
          }
        }
      ]
    },
    {
      "name": "Admin - Guru",
      "item": [
        {
          "name": "Get All Guru",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/admin/guru",
              "host": ["{{base_url}}"],
              "path": ["admin", "guru"]
            }
          }
        },
        {
          "name": "Create Guru",
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"nama\": \"Test Guru, S.Pd\",\n  \"nip\": \"199501012020011004\",\n  \"alamat\": \"Jl. Test No. 99\",\n  \"no_telp\": \"081234567899\",\n  \"username\": \"guru_test\",\n  \"password\": \"guru123\",\n  \"mapel_ids\": [1, 2]\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/admin/guru",
              "host": ["{{base_url}}"],
              "path": ["admin", "guru"]
            }
          }
        },
        {
          "name": "Assign Mapel to Guru",
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"mapel_ids\": [1, 3, 5]\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/admin/guru/1/mapel",
              "host": ["{{base_url}}"],
              "path": ["admin", "guru", "1", "mapel"]
            }
          }
        }
      ]
    },
    {
      "name": "Guru - Jadwal & Absensi",
      "item": [
        {
          "name": "Get Jadwal Mengajar Saya",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/guru/jadwal-saya/1",
              "host": ["{{base_url}}"],
              "path": ["guru", "jadwal-saya", "1"]
            }
          }
        },
        {
          "name": "Create Sesi Absen",
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"tanggal\": \"2026-02-04\",\n  \"jam_mulai\": \"07:00\",\n  \"jam_selesai\": \"08:30\",\n  \"kelas_id\": 1,\n  \"pertemuan\": \"Pertemuan ke-10\",\n  \"mapel_id\": 1,\n  \"guru_id\": 1\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/guru/absen",
              "host": ["{{base_url}}"],
              "path": ["guru", "absen"]
            }
          }
        },
        {
          "name": "Input Absensi Siswa",
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"siswa_id\": 1,\n  \"absen_id\": 1,\n  \"status\": \"1\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/guru/absensi",
              "host": ["{{base_url}}"],
              "path": ["guru", "absensi"]
            }
          }
        }
      ]
    },
    {
      "name": "BK - Pelanggaran",
      "item": [
        {
          "name": "Get Siswa Bermasalah",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/bk/siswa-bermasalah",
              "host": ["{{base_url}}"],
              "path": ["bk", "siswa-bermasalah"]
            }
          }
        },
        {
          "name": "Get Total Point Siswa",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/bk/total-point-siswa/1",
              "host": ["{{base_url}}"],
              "path": ["bk", "total-point-siswa", "1"]
            }
          }
        },
        {
          "name": "Create Pelanggaran",
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"siswa_id\": 1,\n  \"point_id\": 1,\n  \"bk_id\": 1,\n  \"tanggal\": \"2026-02-04\",\n  \"keterangan\": \"Terlambat masuk kelas pukul 07:20\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/bk/pelanggaran-siswa",
              "host": ["{{base_url}}"],
              "path": ["bk", "pelanggaran-siswa"]
            }
          }
        }
      ]
    },
    {
      "name": "Siswa - Dashboard",
      "item": [
        {
          "name": "Get Jadwal Kelas Saya",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/siswa/jadwal-kelas/1",
              "host": ["{{base_url}}"],
              "path": ["siswa", "jadwal-kelas", "1"]
            }
          }
        },
        {
          "name": "Get Pelanggaran Saya",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/siswa/pelanggaran-saya/1",
              "host": ["{{base_url}}"],
              "path": ["siswa", "pelanggaran-saya", "1"]
            }
          }
        }
      ]
    }
  ]
}
